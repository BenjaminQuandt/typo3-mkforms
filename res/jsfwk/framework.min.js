/**
 * NOTE: THIS IS MINIFIED VERSION OF FORMIDABLE JS
 * For regular set typoscript: config.tx_mkforms.minify.enabled=0
 */
if(!console)var console={log:function(a){},dir:function(a){}};
var Formidable={initialize:function(a){MKWrapper.extend(this,a);this.Browser.getBrowserInfo()},SEP:"__",SUBMIT_FULL:"AMEOSFORMIDABLE_EVENT_SUBMIT_FULL",SUBMIT_REFRESH:"AMEOSFORMIDABLE_EVENT_SUBMIT_REFRESH",SUBMIT_TEST:"AMEOSFORMIDABLE_EVENT_SUBMIT_TEST",SUBMIT_DRAFT:"AMEOSFORMIDABLE_EVENT_SUBMIT_DRAFT",SUBMIT_CLEAR:"AMEOSFORMIDABLE_EVENT_SUBMIT_CLEAR",SUBMIT_SEARCH:"AMEOSFORMIDABLE_EVENT_SUBMIT_SEARCH",Classes:{},CodeBehind:{},Context:{Forms:{},Objects:{}},Lister:{Pager:{goTo:function(a,b){var c=
Formidable.f(a);c.domNode()[c.Misc.HiddenIds.Lister.page].value=b;c.submitRefresh()}},Sort:{by:function(a,b,c){c=Formidable.f(c);var d=c.domNode();d[c.Misc.HiddenIds.Lister.sortField].value=a;d[c.Misc.HiddenIds.Lister.sortDirection].value=b;d.action=c.Misc.Urls.Lister.sortAction;c.submitRefresh()}}},f:function(a){return this.Context.Forms[a]},o:function(a){return this.Context.Objects[a]},executeInlineJs:function(a){$H(a).each(function(a){Formidable.globalEval(unescape(a))}.bind(this))},loadedScripts:[],
addScript:function(a){this.isScriptLoaded(a)||this.loadedScripts.push(a)},isScriptLoaded:function(a){return-1<this.indexOf(this.loadedScripts,a)},indexOf:function(a,b){i=0;for(var c=a.length;i<c;i++)if(a[i]===b)return i;return-1},debugMessage:function(a){a=a.replace(/<br \/>/g,"\n");a=a.replace(/<b>/g,"");a=a.replace(/<\/b>/g,"");a=a.replace(/^\s+|\s+$/g,"");alert(a)},Browser:{name:"",version:"",os:"",total:"",getBrowserInfo:function(){this.name=this.searchString(this.dataBrowser)||"An unknown browser";
this.version=this.searchVersion(navigator.userAgent)||this.searchVersion(navigator.appVersion)||"an unknown version";this.os=this.searchString(this.dataOS)||"an unknown OS"},searchString:function(a){for(var b=0;b<a.length;b++){var c=a[b].string,d=a[b].prop;this.versionSearchString=a[b].versionSearch||a[b].identity;if(c){if(-1!=c.indexOf(a[b].subString))return a[b].identity}else if(d)return a[b].identity}},searchVersion:function(a){var b=a.indexOf(this.versionSearchString);if(-1!=b)return parseFloat(a.substring(b+
this.versionSearchString.length+1))},dataBrowser:[{string:navigator.userAgent,subString:"Chrome",identity:"chrome"},{string:navigator.userAgent,subString:"OmniWeb",versionSearch:"OmniWeb/",identity:"omniweb"},{string:navigator.vendor,subString:"Apple",identity:"safari",versionSearch:"Version"},{prop:window.opera,identity:"opera",versionSearch:"Version"},{string:navigator.vendor,subString:"iCab",identity:"icab"},{string:navigator.vendor,subString:"KDE",identity:"konqueror"},{string:navigator.userAgent,
subString:"Firefox",identity:"firefox"},{string:navigator.vendor,subString:"Camino",identity:"camino"},{string:navigator.userAgent,subString:"Netscape",identity:"netscape"},{string:navigator.userAgent,subString:"MSIE",identity:"internet explorer",versionSearch:"MSIE"},{string:navigator.userAgent,subString:"Gecko",identity:"mozilla",versionSearch:"rv"},{string:navigator.userAgent,subString:"Mozilla",identity:"netscape",versionSearch:"Mozilla"}],dataOS:[{string:navigator.platform,subString:"Win",identity:"windows"},
{string:navigator.platform,subString:"Mac",identity:"mac"},{string:navigator.userAgent,subString:"iPhone",identity:"iPhone/iPod"},{string:navigator.platform,subString:"Linux",identity:"linux"}]},Position:{putCenter:function(a,b){a=MKWrapper.$(a);var c=MKWrapper.getDimensions(a),d=this.windowDimensions(),e=this.scrollOffset();b&&"h"!=b||MKWrapper.setStyle(a,{left:d.width/2+e.width-c.width/2+"px"});b&&"v"!=b||MKWrapper.setStyle(a,{top:d.height/2+e.height-c.height/2+"px"})},putCenterVertical:function(a){this.putCenter(a,
"v")},putCenterHorizontal:function(a){this.putCenter(a,"h")},putFixedToWindowVertical:function(a,b){a=MKWrapper.$(a);MKWrapper.getDimensions(a);this.windowDimensions();var c=this.scrollOffset();MKWrapper.setStyle(a,{top:c.height+parseInt(b)+"px"})},fullScreen:function(a){a=MKWrapper.$(a);var b=this.windowDimensions(),c=this.scrollOffset();MKWrapper.setStyle(a,{height:c.height+b.height+"px"})},windowDimensions:function(){var a,b;self.innerHeight?(a=self.innerWidth,b=self.innerHeight):document.documentElement&&
document.documentElement.clientHeight?(a=document.documentElement.clientWidth,b=document.documentElement.clientHeight):document.body&&(a=document.body.clientWidth,b=document.body.clientHeight);a||(a=0);b||(b=0);return{width:a,height:b}},scrollOffset:function(){var a,b;self.pageYOffset?(a=self.pageXOffset,b=self.pageYOffset):document.documentElement&&document.documentElement.scrollTop?(a=document.documentElement.scrollLeft,b=document.documentElement.scrollTop):document.body&&(a=document.body.scrollLeft,
b=document.body.scrollTop);a||(a=0);b||(b=0);return{width:a,height:b}}},getLocalAnchor:function(){var a=MKWrapper.$A(window.location.href.replace(window.location.href.split("#")[0],"").split("/")),a=a[a.length-1];return a.replace(/#/,"")},log:function(){console.log(arguments)},formatSize:function(a){iSizeInByte=parseInt(a);return 900<a?9E5<a?parseInt(a/1048576)+" MB":parseInt(a/1024)+" KB":a+" B"},globalEval:function(a){if("internet explorer"==Formidable.Browser.name)window.execScript(a);else if("safari"==
Formidable.Browser.name){var b=document.createElement("script");b.type="text/javascript";b.defer=!1;b.text=a;a=document.getElementsByTagName("head");a.length?a.item(0).appendChild(b):(a=document.createElement("head"),a=document.documentElement.appendChild(a),a.appendChild(b))}else window.eval(a)},includeStylesheet:function(a){if(document.createStyleSheet)document.createStyleSheet(a);else{a="@import url('"+a+"');";var b=document.createElement("link");b.rel="stylesheet";b.href="data:text/css,"+escape(a);
document.getElementsByTagName("head")[0].appendChild(b)}},obj2Array:function(a){var b=[],c;for(c in a)b.push({key:c,value:a[c]});return b},objEach:function(a,b){for(var c in a)b(c,a[c])},objValues:function(a){var b=[],c;for(c in a)b.push(a[c]);return b}};
Formidable.Classes.FormBaseClass=Base.extend({domNode:function(){return document.forms[this.sFormId]},aParamsStack:MKWrapper.$A(),aContextStack:MKWrapper.$A(),aAddPostVars:[],ajaxCache:{},ViewState:[],Objects:{},aDynHeadersLoaded:[],oLoading:null,oDebugDiv:!1,currentTriggeredArguments:!1,Services:{},AjaxRequestsStack:MKWrapper.$H(),constructor:function(a){MKWrapper.extend(this,a);this.initLoader()},getParams:function(){var a=MKWrapper.$A(this.aParamsStack);return a[a.length-1]},getContext:function(){var a=
MKWrapper.$A(this.aContextStack);return a[a.length-1]},getSender:function(){return this.getContext().sender},o:function(a){return"tx_ameosformidable"==a?Formidable:Formidable.f(a)?Formidable.f(a):this.Objects[a]?this.Objects[a]:this.Objects[this.sFormId+Formidable.SEP+a]?this.Objects[this.sFormId+Formidable.SEP+a]:MKWrapper.$(a)?(oObj=MKWrapper.$(a),MKWrapper.hasClass(oObj,"readonly")?new Formidable.Classes.RdtBaseClass({formid:this.sFormId,id:a}):oObj):null},rdt:function(a){return this.o(a)},attachEvent:function(a,
b,c){(a=this.o(a))&&"undefined"!=typeof a&&"undefined"!=typeof a.domNode&&a.attachEvent(b,c)},handleValidationErrors:function(a,b){b="1"!=b?this.sFormId+"__"+b:!1;if(MKWrapper.handleValidationErrors)MKWrapper.handleValidationErrors(a,this,b);else{var c="Es sind folgende Fehler aufgetreten:\n",d;for(d in a)c+="- "+a[d]+"\n";alert(c)}},updateViewState:function(a){this.ViewState.push(a)},executeServerEvent:function(a,b,c,d,e){var f=!1;if(f=!1!=e?confirm(unescape(e)):!0)$(this.sFormId+"_AMEOSFORMIDABLE_SERVEREVENT").value=
a,!1!=c&&($(this.sFormId+"_AMEOSFORMIDABLE_SERVEREVENT_PARAMS").value=c,$(this.sFormId+"_AMEOSFORMIDABLE_SERVEREVENT_HASH").value=d),b?this.doSubmit(b,!0):this.domNode().submit()},_clientData:function(a){if(a)if("string"==typeof a)"clientData::"==a.slice(0,12)&&(sObjectId=a.slice(12),(oObj=this.o(sObjectId))&&"function"==typeof oObj.getValue&&(a=oObj.getValue()));else if("object"==typeof a)for(var b in a)a[b]=this._clientData(a[b]);return a},executeClientEvent:function(a,b,c,d,e,f){if(bThrow=!1!=
f?confirm(unescape(f)):!0){if(c.tasks.object)this.executeClientTask(c.tasks,b,d,a,e);else{var g=this;Formidable.objEach(c.tasks,MKWrapper.bind(function(c,f){g.executeClientTask(f,b,d,a,e)},this))}b&&this.updateViewState(c)}},executeClientTask:function(a,b,c,d,e){var f=a.formid?Formidable.f(a.formid):this;b=f.o(a.object);d=f.o(d);b?b[a.method]?(oData=f._clientData(a.data),c=d.getParamsForMajix({},c,{},{},e),c=MKWrapper.extend(c,a.databag.params),oContext=a.databag.context||{},oContext.sender=d,oContext.event=
e[0],oContext.event&&(oContext.event[0]=oContext.event),this.aContextStack.push(oContext),this.aParamsStack.push(c),b[a.method](oData),this.aParamsStack.pop(),this.aContextStack.pop()):console.log("executeClientEvent: single task: No method named "+a.method+" on "+a.object):console.log("executeClientEvent: single task: No object named "+a.object)},executeAjaxEvent:function(a,b,c,d,e,f,g,k,n,s,m){var t=this;if(bThrow=!1!=m?confirm(unescape(m)):!0){if(g&&"object"==typeof tinymce){if("string"==typeof g&&
"true"===g.toLowerCase())var q=tinyMCE.EditorManager.get();else q=[],MKWrapper.each(tinyMCE.explode(g,","),function(a,b){t.o(a)&&q.push(tinyMCE.EditorManager.get(t.o(a).config.id))});MKWrapper.each(q,function(a,b){try{a.save()}catch(c){}})}g={};if(k)for(var l in k){var h=k[l];m="rowInput::"==h.slice(0,10);var r=h,u=h;m&&(aInfo=h.split("::"),r=aInfo[1],u=aInfo[2]);h.indexOf("::")&&!m?(aInfo=h.split("::"),l=aInfo[0],h=aInfo[1],g[l]=h):(oElement=this.o(u))?g[r]=oElement.getParamsForMajix(oElement.getValue(),
a,k,n,s):m||((oElement=MKWrapper.$(this.rdtIdByName(h)))?g[r]=MKWrapper.$F(oElement):g[l]=h)}if(n)for(h in n)g[h]=n[h];l=this.o(b);void 0!=l.getMajixThrowerIdentity&&(b=l.getMajixThrowerIdentity(b),g=l.getParamsForMajix(g,a,k,n,s));a=JSONstring.make(g,!0);k=!1;this.currentTriggeredArguments&&(k=JSONstring.make(this.currentTriggeredArguments,!0));var p=this.Misc.Urls.Ajax.event+"&formid="+this.sFormId+"&eventid="+c+"&safelock="+d+"&value="+escape(a)+"&thrower="+escape(b)+"&trueargs="+escape(k);e||
(p+="&random="+escape(Math.random()));e&&void 0!=this.ajaxCache[p]?this.executeAjaxResponse(this.ajaxCache[p],f,bFromCache=!0):(this.displayLoader(),MKWrapper.ajaxCall(this.Misc.Urls.Ajax.event,{method:"post",asynchronous:!0,evalJS:!0,parameters:{formid:this.sFormId,eventid:c,safelock:d,value:a,thrower:b,trueargs:k},onSuccess:function(a,b){a=MKWrapper.strStrip(a);b="undefined"!=typeof b?b:this;var c=!0;if(MKWrapper.isJSON(a))if(eval("var oJson="+a+";"),e&&(b.ajaxCache[p]=oJson),b.executeAjaxResponse(oJson,
f,bFromCache=!1),"undefined"!=typeof oJson.tasks.object&&oJson.tasks.object){if("triggerSubmit"==oJson.tasks.method||"sendToPage"==oJson.tasks.method)c=!1}else MKWrapper.each(Formidable.objValues(oJson.tasks),function(a,b){if("triggerSubmit"==a.method||"sendToPage"==a.method)c=!1});else"null"!=a&&Formidable.debugMessage(a);c?b.removeLoader():window.setTimeout(function(){b.removeLoader()},1E4)},onFailure:function(){console.log("Ajax request failed")}},this))}},executeViewState:function(a){$A(a).each(function(a){this.executeAjaxResponse(a,
!0,!1)}.bind(this))},executeAjaxResponse:function(a,b,c){this.executeAjaxAttachHeaders(a.attachheaders);try{this.executeAjaxInit(a.init)}catch(d){console.log("AJAX INIT - Exception:",d)}a.tasks.object?this.executeAjaxTask(a.tasks):Formidable.objEach(a.tasks,MKWrapper.bind(function(a,b){this.executeAjaxTask(b)},this));try{this.executeAjaxAttachEvents(a.attachevents)}catch(e){console.log("AJAX ATTACH EVENTS - Exception:",e)}try{this.executeAjaxInit(a.postinit)}catch(f){console.log("AJAX POST-INIT - Exception:",
f)}b&&this.updateViewState(a)},executeAjaxInit:function(a){for(var b in a)Formidable.globalEval(a[b])},executeAjaxAttachEvents:function(a){for(var b in a)Formidable.globalEval(a[b])},executeAjaxAttachHeaders:function(a){for(var b in a){var c=a[b].replace(/%3C/g,"<").replace(/%3E/g,">");if(-1<Formidable.indexOf(this.aDynHeadersLoaded,c))console.log("AJAX attach header avoided:"+c);else if(Formidable.isScriptLoaded(b))console.log("AJAX2 attach header avoided:"+b);else{var d=c.match(/src=["|'].+["|']/g);
if(d&&0<d.length)for(var e=0;e<d.length;e++){var f=d[e].substr(5,d[e].length-6);MKWrapper.loadScript(f,function(a){("undefined"!=typeof a?a:this).aDynHeadersLoaded.push(c)},this)}(d=c.match(/<link rel=["|']stylesheet["|'] type=["|']text\/css["|'].+href=["|'](.+)["|'] \/>/))&&0<d.length&&(f=d[1],Formidable.includeStylesheet(f))}}},executeAjaxTask:function(a){if(a.formid){var b=Formidable.f(a.formid);b||console.log("executeClientEvent: single task: on formid "+a.formid+": No method named "+a.method+
" on "+a.object)}else b=this;(b=b.o(a.object))?b[a.method]?(oContext=a.databag.context||{},aParams=a.databag.params||{},this.aContextStack.push(oContext),this.aParamsStack.push(aParams),b[a.method](a.data),this.aParamsStack.pop(),this.aContextStack.pop()):console.log("executeAjaxResponse: single task: No method named "+a.method+" on "+a.object):console.log("executeAjaxResponse: single task: No object named "+a.object)},initPersistedData:function(a){for(var b in a)if(this.o(b))try{this.o(b).rebirth(a[b])}catch(c){}},
rdtIdByName:function(a){return this.sFormId+"_"+a},submitClear:function(a){this.doSubmit(Formidable.SUBMIT_CLEAR,!1,a||!1)},submitSearch:function(a){this.doSubmit(Formidable.SUBMIT_SEARCH,!1,a||!1)},submitDraft:function(a){this.doSubmit(Formidable.SUBMIT_DRAFT,!1,a||!1)},submitTest:function(a){this.doSubmit(Formidable.SUBMIT_TEST,!1,a||!1)},submitRefresh:function(a){this.doSubmit(Formidable.SUBMIT_REFRESH,!1,a||!1)},submitFull:function(a){this.doSubmit(Formidable.SUBMIT_FULL,!1,a||!1)},submitOnEnter:function(a,
b,c){if(window.event)a=window.event.keyCode;else if(c)a=c.which;else return!0;return 13==a?(this.doSubmit(Formidable.SUBMIT_FULL),!1):!0},cleanSysFields:function(a){$(this.sFormId+"_AMEOSFORMIDABLE_SERVEREVENT").value="";$(this.sFormId+"_AMEOSFORMIDABLE_SERVEREVENT_PARAMS").value="";$(this.sFormId+"_AMEOSFORMIDABLE_SERVEREVENT_HASH").value="";$(this.sFormId+"_AMEOSFORMIDABLE_ADDPOSTVARS").value="";a&&($(this.sFormId+"_AMEOSFORMIDABLE_ENTRYID")&&($(this.sFormId+"_AMEOSFORMIDABLE_ENTRYID").value=""),
$(this.sFormId+"_AMEOSFORMIDABLE_VIEWSTATE").value="",$(this.sFormId+"_AMEOSFORMIDABLE_SUBMITTED").value="",$(this.sFormId+"_AMEOSFORMIDABLE_SUBMITTER").value="")},doSubmit:function(a,b,c){a||(a="");b||this.cleanSysFields();if(c||this.getContext()&&(c=this.getSender()))b={},c.isNaturalSubmitter()&&(b[c.config.namewithoutformid]=a,this.addFormData(b)),MKWrapper.$(this.sFormId+"_AMEOSFORMIDABLE_SUBMITTER").value=c.config.idwithoutformid;MKWrapper.$(this.sFormId+"_AMEOSFORMIDABLE_ADDPOSTVARS").value=
JSONstring.make(this.aAddPostVars,!0);MKWrapper.$(this.sFormId+"_AMEOSFORMIDABLE_SUBMITTED").value=a;this.Misc.disableButtonsOnSubmit&&this.disableButtons();this.Misc.displayLoaderOnSubmit&&this.displayLoader();this.domNode().submit()},disableButtons:function(){MKWrapper.each(MKWrapper.findChilds(MKWrapper.$(this.sFormId),"input[type=submit]"),function(a,b){MKWrapper.$(a).disabled=!0});MKWrapper.each(MKWrapper.findChilds(MKWrapper.$(this.sFormId),"input[type=button]"),function(a,b){MKWrapper.$(a).disabled=
!0})},enableButtons:function(){MKWrapper.each(MKWrapper.findChilds(MKWrapper.$(this.sFormId),"input[type=submit]"),function(a,b){MKWrapper.$(a).disabled=!1});MKWrapper.each(MKWrapper.findChilds(MKWrapper.$(this.sFormId),"input[type=button]"),function(a,b){MKWrapper.$(a).disabled=!1})},doNothing:function(a){return!0},scrollTo:function(a){(a=this.o(a))&&("undefined"==typeof a.domNode?Element.scrollTo(a):Element.scrollTo(a.domNode()))},sendToPage:function(a){this.displayLoader();this.isAbsUrl(a)||(a=
this.getBaseUrl()+a);document.location.href=a},isAbsUrl:function(a){return a.substr(0,window.location.protocol.length)===window.location.protocol},getBaseUrl:function(){var a="";if(document.getElementsByTagName){var b=document.getElementsByTagName("base");b.length&&(a=b[0].href)}""==a&&(a=window.location.protocol+"//"+window.location.host);return a},openPopup:function(a){if("undefined"!=typeof a.url){var b=[],c="undefined"!=typeof a.name?a.name:"noname";"undefined"!=typeof a.menubar&&b.push(!0==a.menubar?
"menubar=yes":"menubar=no");"undefined"!=typeof a.status&&(!0==a.status?b.push("status=yes"):b.push("status=no"));"undefined"!=typeof a.scrollbars&&(!0==a.scrollbars?b.push("scrollbars=yes"):b.push("scrollbars=no"));"undefined"!=typeof a.resizable&&(!0==a.resizable?b.push("resizable=yes"):b.push("resizable=no"));"undefined"!=typeof a.width&&b.push("width="+a.width);"undefined"!=typeof a.height&&b.push("height="+a.height);window.open(a.url,c,b.join(", "))}else window.open(a)},toggleDebug:function(){var a=
$(this.sFormId+"_debugzone");if(a&&"none"==a.style.display){a.style.display="block";aDivs=document.getElementsByClassName("ameosformidable_debugcontainer_void");for(sKey in aDivs)aDivs[sKey].className="ameosformidable_debugcontainer";aDivs=document.getElementsByClassName("ameosformidable_debughandler_void");for(sKey in aDivs)aDivs[sKey].className="ameosformidable_debughandler"}else{a.style.display="none";aDivs=document.getElementsByClassName("ameosformidable_debugcontainer");for(sKey in aDivs)aDivs[sKey].className=
"ameosformidable_debugcontainer_void";aDivs=document.getElementsByClassName("ameosformidable_debughandler");for(sKey in aDivs)aDivs[sKey].className="ameosformidable_debughandler_void"}},toggleBacktrace:function(a){a=$(this.sFormId+"_formidable_call"+a+"_backtrace");a.style.display=a&&"none"==a.style.display?"block":"none"},debug:function(a){!1==this.oDebugDiv&&(this.oDebugDiv=$div({id:this.sFormId+"-majixdebug",style:"padding: 5px; border: 2px solid red; background-color: white; height: 500px; overflow: scroll;"}),
this.domNode().appendChild(this.oDebugDiv));var b=new Date,b=b.getHours()+":"+b.getMinutes()+":"+b.getSeconds();this.oDebugDiv.innerHTML="<div style='font-weight: bold; font-size: 20px;'>DEBUG - "+b+"</div>"+a+"<hr style='margin: 20px; padding:0; border: 0; border-top:2px solid black; color: black; '/>"+this.oDebugDiv.innerHTML;this.scrollTo(this.oDebugDiv.id);this.oDebugDiv.scrollTop=0},requestNewI18n:function(a){this.cleanSysFields(!0);this.addPostVar({action:"requestNewI18n",params:a});this.submitClear()},
requestEdition:function(a){this.cleanSysFields(!0);this.addPostVar({action:"requestEdition",params:a});this.submitClear()},execOnNextPage:function(a){this.addPostVar({action:"execOnNextPage",params:a})},addFormData:function(a){this.addPostVar({action:"formData",params:a})},addPostVar:function(a){this.aAddPostVars.push(a)},initLoader:function(){var a=MKWrapper.$tag("div",{style:"position: fixed; left: 50%; top: 50%; margin: 0; padding: 0; z-index: 999999999;",id:"tx_mkforms_spinner"}),b=MKWrapper.$tag("div",
{style:"position: fixed; left: 0; top: 0; margin: 0; padding: 0; z-index: 99999999; opacity:0.6; filter: progid:DXImageTransform.Microsoft.Alpha(opacity=60)",id:"tx_mkforms_spinner_overlay"}),c=MKWrapper.$tag("div",{style:"position: fixed; z-index: 999999999;",id:"tx_mkforms_spinner_wrap"}),d=MKWrapper.$tag("img",{src:Formidable.path+"res/images/loading.gif"});a.appendChild(d);c.appendChild(b);c.appendChild(a);Formidable.Position.fullScreen(b);Formidable.Position.putCenter(a);this.oLoading=c},displayLoader:function(){null==
this.oLoading&&this.initLoader();"internet explorer"==Formidable.Browser.name&&(this.oLoading.style.position="absolute",Formidable.Position.putCenter(this.oLoading));this.Misc.MajixSpinner.left&&(posLeft=this.Misc.MajixSpinner.left,parseInt(posLeft)+""==posLeft&&(posLeft+="px"),this.oLoading.style.left=posLeft);try{document.body.appendChild(this.oLoading)}catch(a){}},removeLoader:function(){try{MKWrapper.domRemove(this.oLoading),this.oLoading=null}catch(a){}},execJs:function(a){eval(a)},executeCbMethod:function(a){var b=
a.cb["class"];aParams={obj:Formidable.CodeBehind[b],params:a.params[0]};Formidable.CodeBehind[b][a.method](aParams,this)},filterKeypress:function(a,b){iKeyCode=a.keyCode;bOk=!0;var c=String.fromCharCode(a.charCode?a.charCode:a.keyCode);-1!=[8,9,16,17,18,20,27,37,39,40,46,144].indexOf(iKeyCode)||c.match(b)?39!=iKeyCode&&40!=iKeyCode||Prototype.Browser.Gecko||(bOk=!1,Event.stop(a)):(bOk=!1,Event.stop(a));return bOk},declareAjaxService:function(a,b,c){this.Services[a]=function(){aParams=Array.from(arguments);
aParams.unshift(b,c);this.invokeAjaxService.apply(this,aParams)}.bind(this)},invokeAjaxService:function(){aParams=Array.from(arguments);sId=aParams.shift();sSafeLock=aParams.shift();fCbk=0<aParams.length&&"function"==typeof aParams.first()?aParams.shift():Prototype.emptyFunction;this.AjaxRequestsStack.get(sId)&&(MKWrapper.ajaxAbort(this.AjaxRequestsStack.get(sId)),this.AjaxRequestsStack.unset(sId));var a=JSONstring.make(aParams,!0);this.displayLoader();this.AjaxRequestsStack.set(sId,new Ajax.Request(this.Misc.Urls.Ajax.service,
{method:"post",parameters:{formid:this.sFormId,safelock:sSafeLock,serviceid:sId,trueargs:a},onSuccess:function(a){this.removeLoader();eval("var oJson="+a.responseText.strip()+";");this.AjaxRequestsStack.unset(sId);fCbk(oJson)}.bind(this),onFailure:function(){this.removeLoader();this.AjaxRequestsStack.unset(sId);console.log("Ajax request failed")}.bind(this)}))}});
Formidable.Classes.RdtBaseClass=Base.extend({oForm:null,config:{},constructor:function(a){this.config=a;this.config.userChanged=!1;this.oForm=Formidable.f(this.config.formid);this.userChanged("initEvents")},doNothing:function(){},domNode:function(){return MKWrapper.domNode(this.config.id)},userChanged:function(a){if(this.oForm.Misc.useUserChange)if("initEvents"==a)"undefined"==typeof this.domNode()||"INPUT"!==this.domNode().nodeName.toUpperCase()&&"TEXTAREA"!==this.domNode().nodeName.toUpperCase()&&
"SELECT"!==this.domNode().nodeName.toUpperCase()||(MKWrapper.removeEvent(this.domNode(),"change.userChanged"),MKWrapper.attachEvent(this.domNode(),"change.userChanged",function(){this.userChanged(!0)},this));else{if("undefined"!=typeof a&&(a="string"==typeof a?"true"===a.toLowerCase():Boolean(a),this.config.userChanged=a)){var b=this.parent();b&&b.userChanged(a)}return this.config.userChanged}},rdt:function(a){return this.oForm.o(this.config._rdts[a])},child:function(a){return this.rdt(a)},childs:function(){return this.config._rdts?
this.config._rdts:{}},parent:function(){return this.config.parent?this.oForm.o(this.config.parent):!1},replaceData:function(a){this.clearData();this.domNode().value=a;this.userChanged(!1)},clearData:function(a){this.domNode().value="";this.userChanged(!1)},clearValue:function(){this.domNode().value="";this.userChanged(!1)},getValue:function(){if(this.isIterating()){oResults={};oIterator=this.oForm.o(this.config.iterator);var a=oIterator.getRows(),b=this;MKWrapper.each(a,function(a){var d=b.getIdWithoutFormIdRelativeTo(oIterator),
d=a.rdt(d);oResults[a.uid]=d.getValue()},b);return oResults}return this.domNode()?MKWrapper.$F(this.domNode()):""},getIdWithoutFormIdRelativeTo:function(a){sOurs=this.config.idwithoutformid;sTheirs=a.config.idwithoutformid;return sOurs.startsWith(sTheirs)?sOurs.substr(sTheirs.length+2):sOurs},setValue:function(a){this.clearValue();this.domNode().value=a;this.userChanged(!1)},appendValue:function(a){sValue=this.domNode().value;""!=sValue?this.domNode().value+=", "+a:this.domNode().value=a;this.userChanged(!1)},
displayBlock:function(){if(oDomNode=this.domNode())MKWrapper.setStyle(oDomNode,{display:"block"}),this.displayBlockLabel(),this.displayBlockReadonly()},displayNone:function(){if(oDomNode=this.domNode())MKWrapper.setStyle(oDomNode,{display:"none"}),this.displayNoneLabel(),this.displayNoneReadonly()},displayDefault:function(){this.domNode().style.display="";this.displayDefaultLabel();this.displayDefaultReadonly()},displayNoneLabel:function(){this.getLabel()&&(this.getLabel().style.display="none")},
displayBlockLabel:function(){this.getLabel()&&(this.getLabel().style.display="block")},displayDefaultLabel:function(){this.getLabel()&&(this.getLabel().style.display="")},displayNoneReadonly:function(){this.getReadonly()&&(this.getReadonly().style.display="none")},displayBlockReadonly:function(){this.getReadonly()&&(this.getReadonly().style.display="block")},displayDefaultReadonly:function(){this.getReadonly()&&(this.getReadonly().style.display="")},getLabel:function(){return MKWrapper.$(this.config.id+
"_label")},getReadonly:function(){return MKWrapper.$(this.config.id+"_readonly")},replaceLabel:function(a){if(oLabel=this.getLabel())oLabel.innerHTML=a},visibleLabel:function(){this.getLabel()&&(this.getLabel().style.visibility="visible")},visible:function(){this.visibleLabel();this.domNode().style.visibility="visible"},hiddenLabel:function(){this.getLabel()&&(this.getLabel().style.visibility="hidden")},hidden:function(){this.hiddenLabel();this.domNode().style.visibility="hidden"},enable:function(){Form.enable(this.config.id)},
disable:function(){Form.disable(this.config.id)},toggleDisplay:function(){"none"==this.domNode().style.display?this.displayBlock():this.displayNone()},toggleVisibility:function(){"hidden"==this.domNode().style.visibility?this.visible():this.hidden()},focus:function(){this.domNode().focus()},blur:function(){this.domNode().blur()},rebirth:function(a){},Fx:function(a){if("undefined"!=typeof Scriptaculous)switch("string"==(typeof a).toLowerCase()&&(a={effect:a,params:{}}),a.params.afterFinish&&"function"!=
typeof a.params.afterFinish&&(a.params._afterFinish=a.params.afterFinish,a.params.afterFinish=function(){this.oForm.executeAjaxTask(a.params._afterFinish)}.bind(this)),oLabel=this.getLabel(),a.effect.toLowerCase()){case "appear":oLabel?new Effect.Parallel([new Effect.Appear(this.domNode()),new Effect.Appear(oLabel)],a.params):new Effect.Appear(this.domNode(),a.params);break;case "fade":oLabel?new Effect.Parallel([new Effect.Fade(this.domNode()),new Effect.Fade(oLabel)],a.params):new Effect.Fade(this.domNode(),
a.params);break;case "puff":new Effect.Puff(this.domNode(),a.params);break;case "blinddown":new Effect.BlindDown(this.domNode(),a.params);break;case "blindup":new Effect.BlindUp(this.domNode(),a.params);break;case "switchoff":new Effect.SwitchOff(this.domNode(),a.params);break;case "slidedown":new Effect.SlideDown(this.domNode(),a.params);break;case "slideup":new Effect.SlideUp(this.domNode(),a.params);break;case "dropout":new Effect.DropOut(this.domNode(),a.params);break;case "shake":new Effect.Shake(this.domNode(),
a.params);break;case "pulsate":new Effect.Pulsate(this.domNode(),a.params);break;case "squish":new Effect.Squish(this.domNode(),a.params);break;case "fold":new Effect.Fold(this.domNode(),a.params);break;case "grow":new Effect.Grow(this.domNode(),a.params);break;case "shrink":new Effect.Shrink(this.domNode(),a.params);break;case "highlight":new Effect.Highlight(this.domNode(),a.params);break;case "toggleappear":new Effect.toggle(this.domNode(),"appear",a.params);break;case "toggleslide":new Effect.toggle(this.domNode(),
"slide",a.params);break;case "toggleblind":new Effect.toggle(this.domNode(),"blind",a.params);break;case "scrollto":new Effect.ScrollTo(this.config.id)}else console.log("Scriptaculous is not loaded. Add /meta/libs = scriptaculous to your formidable")},getMajixThrowerIdentity:function(a){return a},getParamsForMajix:function(a,b,c,d,e){fkt=function(b){sKey=b.key;sValue=b.value;sKey.startsWith("majix:")&&(aParts=sKey.split(":"),(oObj=this.oForm.o(aParts[1]))&&"function"==typeof oObj[aParts[2]]&&(a[sKey]=
oObj[aParts[2]]()))};MKWrapper.bind(fkt,this);b=Formidable.obj2Array(a);MKWrapper.each(b,fkt);return a},getName:function(){return this.config.id.substr(this.config.formid.length+1)},repaint:function(a){"undefined"!=typeof this.domNode()&&((oLabel=this.getLabel())&&MKWrapper.domRemove(oLabel),(oLabel=this.getReadonly())&&MKWrapper.domRemove(oLabel),MKWrapper.domReplace(this.domNode(),a),this.userChanged(!1))},repaintInner:function(a){"undefined"!=typeof this.domNode()&&(MKWrapper.domInsert(this.domNode(),
a),this.userChanged(!1))},remove:function(){MKWrapper.domRemove(this.domNode());this.userChanged(!1)},attachEvent:function(a,b){oObj=this.domNode();"undefined"!=typeof oObj&&null!=oObj&&(MKWrapper.removeEvent(oObj,a+".fEvent"),MKWrapper.attachEvent(oObj,a+".fEvent",b,oObj))},addClass:function(a){this.domNode().addClassName(a)},removeClass:function(a){this.domNode().removeClassName(a)},removeAllClass:function(){this.domNode().classNames().each(function(a){this.removeClass(a)}.bind(this))},setStyle:function(a){this.domNode().setStyle(a)},
isNaturalSubmitter:function(){return"SUBMIT"===this.domNode().nodeName.toUpperCase()||"INPUT"===this.domNode().nodeName.toUpperCase()&&("SUBMIT"===this.domNode().type.toUpperCase()||"IMAGE"===this.domNode().type.toUpperCase())},removeErrorStatus:function(){this.config.error&&(this.removeClass("hasError"),sType=this.config.error.info.type,sTypeClass="hasError"+sType.substr(0,1).toUpperCase()+sType.substr(1,sType.length),this.removeClass(sTypeClass),this.getLabel()&&(this.getLabel().removeClassName("hasError"),
this.getLabel().removeClassName(sTypeClass)),$$("SPAN.rdterror").each(function(a){a.hasClassName(this.config.idwithoutformid)&&(a.style.display="none")}.bind(this)),this.config.error=!1)},setErrorStatus:function(a){this.config.error||(this.addClass("hasError"),a.type||(a.type="undetermined"),a.type&&(sTypeClass="hasError"+a.type.substr(0,1).toUpperCase()+a.type.substr(1,a.type),this.addClass(sTypeClass)),this.getLabel()&&(this.getLabel().addClassName("hasError"),a.type&&this.getLabel().addClassName(sTypeClass)),
$$("SPAN.rdterror").each(function(a){a.hasClassName(this.config.idwithoutformid)&&(a.style.display="")}.bind(this)),this.config.error={info:{type:a.type}})},isIterating:function(){return!0==this.config.iterating},triggerSubmit:function(a){"refresh"==a?this.oForm.submitRefresh(this):"test"==a?this.oForm.submitTest(this):"draft"==a?this.oForm.submitDraft(this):"clear"==a?this.oForm.submitClear(this):"search"==a?this.oForm.submitSearch(this):this.oForm.submitFull(this)},trigger:function(){sWhat=arguments[0];
1<arguments.length?(this.oForm.currentTriggeredArguments=Array.from(arguments).slice(1),Element.fire(this.domNode(),"formidable:"+sWhat),this.oForm.currentTriggeredArguments=!1):(this.oForm.currentTriggeredArguments=!1,Element.fire(this.domNode(),"formidable:"+sWhat))}});Formidable.Classes.CodeBehindClass=Base.extend({config:{},constructor:function(a){this.config=a;this.oForm=Formidable.f(this.config.formid);this.init&&"function"==typeof this.init&&this.init()}});
